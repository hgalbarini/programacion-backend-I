<div>
    <h1> Cat谩logo de Productos realtime </h1>
    <hr>
    
    <div id="productsContainer" style="display: grid; gap: 20px; grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));">
        {{#each products}}
            <div class="product-card" style="border: 1px solid #ccc; padding: 10px; border-radius: 8px;">
                <h3>{{this.title}}</h3>
                <p><strong>ID:</strong> {{this.id}}</p>
                <p><strong>Descripci贸n:</strong> {{this.description}}</p>
                <p><strong>C贸digo:</strong> {{this.code}}</p>
                <p><strong>Precio:</strong> ${{this.price}}</p>
                <p><strong>Stock:</strong> {{this.stock}}</p>
                <p><strong>Categor铆a:</strong> {{this.category}}</p>
                <p><strong>Status:</strong> {{#if this.status}}Activo{{else}}Inactivo{{/if}}</p>
            </div>
        {{/each}}
    </div>

    <script src="/socket.io/socket.io.js"></script>
    <script>
        const socket = io();
        const container = document.getElementById('productsContainer');

        socket.on('updateProducts', (data) => {
            console.log("Actualizando vista con:", data);
            
            if (!container) return;
            container.innerHTML = '';

            data.forEach(prod => {
                const card = document.createElement('div');
                card.className = 'product-card';
                card.style = "border: 1px solid #ccc; padding: 10px; border-radius: 8px;";
                
                card.innerHTML = `
                    <h3>${prod.title}</h3>
                    <p><strong>ID:</strong> ${prod.id}</p>
                    <p><strong>Descripci贸n:</strong> ${prod.description}</p>
                    <p><strong>C贸digo:</strong> ${prod.code}</p>
                    <p><strong>Precio:</strong> $${prod.price}</p>
                    <p><strong>Stock:</strong> ${prod.stock}</p>
                    <p><strong>Categor铆a:</strong> ${prod.category}</p>
                    <p><strong>Status:</strong> ${prod.status ? 'Activo' : 'Inactivo'}</p>
                `;
                container.appendChild(card);
            });
        });
    </script>
</div>
